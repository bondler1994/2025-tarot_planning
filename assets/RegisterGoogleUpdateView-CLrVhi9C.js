import{b as v,Q as f}from"./QBtn-DEu7CPBx.js";import{r as d,I as Q,Q as w,b as x}from"./InputBoxRadio-BJe3AB-O.js";import{Q as y,I as g}from"./InputBox-wcYxioTH.js";import{Q as U,a as C}from"./QCard-XM7hpHeX.js";import{Q as D}from"./QInput-DhOjieaL.js";import{C as I}from"./ClosePopup-DW2Uuc9M.js";import{r as n,f as B,x as P,y as l,z as t,A as s,D as R,E as S,C as m,V as j}from"./index-DRD2m_il.js";import{t as k}from"./tarotDiaryAPI-BLKX_40E.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-Dbg09HpP.js";import"./use-render-cache-BuvjkNbm.js";import"./use-timeout-B2B1ggu3.js";import"./index-DW_MHI2K.js";const q={class:"register column content-center"},A={class:"register__update-form"},E={class:"row items-center justify-end"},G={class:"button-group row justify-center"},N={__name:"RegisterGoogleUpdateView",setup(F){const c=R(),a=n({name:"我是菇狗",gender:"",birthdate:""}),p=n({name:!0}),b=n([{label:"男",value:"male"},{label:"女",value:"female"},{label:"其他",value:"other"}]),r=B({get(){return a.value.birthdate.split("-").join("/")},set(i){a.value.birthdate=i.split("/").join("-")}}),u=n(!1);function V(){u.value=!0}async function _(){console.log(a.value);const i=a.value;try{const e=await k.PUT("/api/oauth/google/setup",i);console.log(e),c.push({name:"registerSuccess"})}catch(e){console.log(e),V()}}return(i,e)=>(S(),P("div",q,[e[8]||(e[8]=l("div",{class:"register__title"},[l("div",{class:"title"},"帳號即將建立完成")],-1)),e[9]||(e[9]=l("div",{class:"register__description"},[l("div",{class:"description"},"為了讓您在塔羅聊癒日記的體驗更加完整，請協助填寫下列資訊：")],-1)),l("div",A,[t(y,{class:"form",onSubmit:_},{default:s(()=>[t(g,{title:"暱稱",hasSign:!0,sign:"edit",disable:p.value.name,"onUpdate:disable":e[0]||(e[0]=o=>p.value.name=o),modelValue:a.value.name,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.name=o),rules:[m(d)]},null,8,["disable","modelValue","rules"]),t(Q,{title:"性別",modelValue:a.value.gender,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.gender=o),rules:[m(d)],options:b.value},null,8,["modelValue","rules","options"]),t(g,{title:"生日",modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=o=>r.value=o),rules:[m(d)]},{default:s(()=>[t(v,{name:"event",class:"cursor-pointer",size:"20px"},{default:s(()=>[t(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[t(x,{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=o=>r.value=o)},{default:s(()=>[l("div",E,[j(t(f,{label:"Close",color:"primary",flat:""},null,512),[[I]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"]),l("div",G,[e[6]||(e[6]=l("div",{class:"button--blank"},null,-1)),t(f,{class:"button",label:"建立會員",type:"submit",color:"grey-7",unelevated:""})])]),_:1})]),t(D,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=o=>u.value=o),position:"top"},{default:s(()=>[t(U,{style:{width:"350px"}},{default:s(()=>[t(C,{class:"row items-center no-wrap"},{default:s(()=>[t(v,{class:"q-pr-xs",name:"error",size:"sm",color:"negative"}),e[7]||(e[7]=l("div",{class:"text-weight-bold"},"連線失敗",-1))]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ee=z(N,[["__scopeId","data-v-1395d7eb"]]);export{ee as default};

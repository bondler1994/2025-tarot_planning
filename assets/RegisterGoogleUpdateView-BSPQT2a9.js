import{_ as w,r as n,a as x,q as Q,v as o,t,x as s,G as y,A as U,L as d,E as v,M as I,C as g,H as C,I as B}from"./index-CSCzfQmP.js";import{r as m,I as D,Q as P,b as R}from"./InputBoxRadio-6olGMi6E.js";import{Q as S,I as c}from"./InputBox-CDQMk2Iv.js";import{Q as j}from"./QInput-C29NEW-e.js";import{C as k}from"./ClosePopup-C4A8Sqpv.js";import{t as q}from"./tarotDiaryAPI-BLKX_40E.js";import"./index-DW_MHI2K.js";const G={class:"register column content-center"},z={class:"register__update-form"},A={class:"row items-center justify-end"},E={class:"button-group row justify-center"},N={__name:"RegisterGoogleUpdateView",setup(F){const f=y(),a=n({name:"我是菇狗",gender:"",birthdate:""}),p=n({name:!0}),b=n([{label:"男",value:"male"},{label:"女",value:"female"},{label:"其他",value:"other"}]),r=x({get(){return a.value.birthdate.split("-").join("/")},set(i){a.value.birthdate=i.split("/").join("-")}}),u=n(!1);function V(){u.value=!0}async function _(){console.log(a.value);const i=a.value;try{const e=await q.PUT("/api/oauth/google/setup",i);console.log(e),f.push({name:"registerSuccess"})}catch(e){console.log(e),V()}}return(i,e)=>(U(),Q("div",G,[e[8]||(e[8]=o("div",{class:"register__title"},[o("div",{class:"title"},"帳號即將建立完成")],-1)),e[9]||(e[9]=o("div",{class:"register__description"},[o("div",{class:"description"},"為了讓您在塔羅聊癒日記的體驗更加完整，請協助填寫下列資訊：")],-1)),o("div",z,[t(S,{class:"form",onSubmit:_},{default:s(()=>[t(c,{title:"暱稱",hasSign:!0,sign:"edit",disable:p.value.name,"onUpdate:disable":e[0]||(e[0]=l=>p.value.name=l),modelValue:a.value.name,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.name=l),rules:[d(m)]},null,8,["disable","modelValue","rules"]),t(D,{title:"性別",modelValue:a.value.gender,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.gender=l),rules:[d(m)],options:b.value},null,8,["modelValue","rules","options"]),t(c,{title:"生日",modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=l=>r.value=l),rules:[d(m)]},{default:s(()=>[t(v,{name:"event",class:"cursor-pointer",size:"20px"},{default:s(()=>[t(P,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[t(R,{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=l=>r.value=l)},{default:s(()=>[o("div",A,[I(t(g,{label:"Close",color:"primary",flat:""},null,512),[[k]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"]),o("div",E,[e[6]||(e[6]=o("div",{class:"button--blank"},null,-1)),t(g,{class:"button",label:"建立會員",type:"submit",color:"grey-7",unelevated:""})])]),_:1})]),t(j,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=l=>u.value=l),position:"top"},{default:s(()=>[t(C,{style:{width:"350px"}},{default:s(()=>[t(B,{class:"row items-center no-wrap"},{default:s(()=>[t(v,{class:"q-pr-xs",name:"error",size:"sm",color:"negative"}),e[7]||(e[7]=o("div",{class:"text-weight-bold"},"連線失敗",-1))]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},K=w(N,[["__scopeId","data-v-1395d7eb"]]);export{K as default};

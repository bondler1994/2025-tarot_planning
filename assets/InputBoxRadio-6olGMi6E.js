import{a as D,ak as Tt,al as ln,c as Oe,f as Et,g as Fe,j as Ot,r as A,am as on,w as W,U as Ke,h as x,a4 as he,b as Ft,an as rn,C as U,ao as vt,ap as un,aq as mt,m as sn,S as dn,o as tt,ar as cn,as as Je,at as fn,au as vn,av as mn,aw as hn,ax as gn,ay as yn,az as Mn,s as bn,aA as xn,_ as Dn,aB as ht,aC as wn,q as ke,A as _e,v as fe,R as gt,t as Sn,x as _n,F as Hn,O as Cn,M as Yn,aD as kn,T as yt,B as pn}from"./index-CSCzfQmP.js";import{u as qn,b as Tn,c as En,p as Mt,d as On,e as Fn,f as In,g as Vn,h as jn,i as An,j as Bn,k as $n,r as bt,l as Pn,m as Rn,n as Ln,o as Wn,Q as zn,q as Nn,s as Qn,t as Zn,v as Un}from"./QInput-C29NEW-e.js";import{E as Xn}from"./InputBox-CDQMk2Iv.js";const ne=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Kn(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),ta(nt(e,a,o))}function xt(e,a,o){return Vt(ea(e,a,o))}function Jn(e){return Gn(e)===0}function qe(e,a){return a<=6?31:a<=11||Jn(e)?30:29}function Gn(e){const a=ne.length;let o=ne[0],l,i,u,d,s;if(e<o||e>=ne[a-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<a&&(l=ne[s],i=l-o,!(e<l));s+=1)o=l;return d=e-o,i-d<6&&(d=d-i+T(i+4,33)*33),u=P(P(d+1,33)-1,4),u===-1&&(u=4),u}function It(e,a){const o=ne.length,l=e+621;let i=-14,u=ne[0],d,s,f,M,c;if(e<u||e>=ne[o-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<o&&(d=ne[c],s=d-u,!(e<d));c+=1)i=i+T(s,33)*8+T(P(s,33),4),u=d;M=e-u,i=i+T(M,33)*8+T(P(M,33)+3,4),P(s,33)===4&&s-M===4&&(i+=1);const b=T(l,4)-T((T(l,100)+1)*3,4)-150,E=20+i-b;return a||(s-M<6&&(M=M-s+T(s+4,33)*33),f=P(P(M+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:l,march:E}}function ea(e,a,o){const l=It(e,!0);return nt(l.gy,3,l.march)+(a-1)*31-T(a,7)*(a-7)+o-1}function ta(e){const a=Vt(e).gy;let o=a-621,l,i,u;const d=It(o,!1),s=nt(a,3,d.march);if(u=e-s,u>=0){if(u<=185)return i=1+T(u,31),l=P(u,31)+1,{jy:o,jm:i,jd:l};u-=186}else o-=1,u+=179,d.leap===1&&(u+=1);return i=7+T(u,30),l=P(u,30)+1,{jy:o,jm:i,jd:l}}function nt(e,a,o){let l=T((e+T(a-8,6)+100100)*1461,4)+T(153*P(a+9,12)+2,5)+o-34840408;return l=l-T(T(e+100100+T(a-8,6),100)*3,4)+752,l}function Vt(e){let a=4*e+139361631;a=a+T(T(4*e+183187720,146097)*3,4)*4-3908;const o=T(P(a,1461),4)*5+308,l=T(P(o,153),5)+1,i=P(T(o,153),12)+1;return{gy:T(a,1461)-100100+T(8-i,6),gm:i,gd:l}}function T(e,a){return~~(e/a)}function P(e,a){return e-~~(e/a)*a}function p(e,a=2,o="0"){if(e==null)return e;const l=""+e;return l.length>=a?l:new Array(a-l.length+1).join(o)+l}const na=["gregorian","persian"],Dt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>na.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},aa=["update:modelValue"];function ee(e){return e.year+"/"+p(e.month)+"/"+p(e.day)}function la(e,a){const o=D(()=>e.disable!==!0&&e.readonly!==!0),l=D(()=>o.value===!0?0:-1),i=D(()=>{const s=[];return e.color!==void 0&&s.push(`bg-${e.color}`),e.textColor!==void 0&&s.push(`text-${e.textColor}`),s.join(" ")});function u(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function d(s){const f=new Date,M=s===!0?null:0;if(e.calendar==="persian"){const c=Kn(f);return{year:c.jy,month:c.jm,day:c.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:M,minute:M,second:M,millisecond:M}}return{editable:o,tabindex:l,headerClass:i,getLocale:u,getCurrentDate:d}}const jt=864e5,oa=36e5,Ge=6e4,At="YYYY-MM-DDTHH:mm:ss.SSSZ",ra=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,ua=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Ne={};function ia(e,a){const o="("+a.days.join("|")+")",l=e+o;if(Ne[l]!==void 0)return Ne[l];const i="("+a.daysShort.join("|")+")",u="("+a.months.join("|")+")",d="("+a.monthsShort.join("|")+")",s={};let f=0;const M=e.replace(ua,b=>{switch(f++,b){case"YY":return s.YY=f,"(-?\\d{1,2})";case"YYYY":return s.YYYY=f,"(-?\\d{1,4})";case"M":return s.M=f,"(\\d{1,2})";case"Mo":return s.M=f++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return s.M=f,"(\\d{2})";case"MMM":return s.MMM=f,d;case"MMMM":return s.MMMM=f,u;case"D":return s.D=f,"(\\d{1,2})";case"Do":return s.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=f,"(\\d{2})";case"H":return s.H=f,"(\\d{1,2})";case"HH":return s.H=f,"(\\d{2})";case"h":return s.h=f,"(\\d{1,2})";case"hh":return s.h=f,"(\\d{2})";case"m":return s.m=f,"(\\d{1,2})";case"mm":return s.m=f,"(\\d{2})";case"s":return s.s=f,"(\\d{1,2})";case"ss":return s.s=f,"(\\d{2})";case"S":return s.S=f,"(\\d{1})";case"SS":return s.S=f,"(\\d{2})";case"SSS":return s.S=f,"(\\d{3})";case"A":return s.A=f,"(AM|PM)";case"a":return s.a=f,"(am|pm)";case"aa":return s.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"do":return f++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return f++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return f++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return s.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=f,"(-?\\d+)";case"x":return s.x=f,"(-?\\d{4,})";default:return f--,b[0]==="["&&(b=b.substring(1,b.length-1)),b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:s,regex:new RegExp("^"+M)};return Ne[l]=c,c}function Bt(e,a){return e!==void 0?e:a!==void 0?a.date:ln.date}function wt(e,a=""){const o=e>0?"-":"+",l=Math.abs(e),i=Math.floor(l/60),u=l%60;return o+p(i)+a+p(u)}function sa(e,a,o,l,i){const u={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(i!==void 0&&Object.assign(u,i),e==null||e===""||typeof e!="string")return u;a===void 0&&(a=At);const d=Bt(o,Tt.props),s=d.months,f=d.monthsShort,{regex:M,map:c}=ia(a,d),b=e.match(M);if(b===null)return u;let E="";if(c.X!==void 0||c.x!==void 0){const h=parseInt(b[c.X!==void 0?c.X:c.x],10);if(isNaN(h)===!0||h<0)return u;const S=new Date(h*(c.X!==void 0?1e3:1));u.year=S.getFullYear(),u.month=S.getMonth()+1,u.day=S.getDate(),u.hour=S.getHours(),u.minute=S.getMinutes(),u.second=S.getSeconds(),u.millisecond=S.getMilliseconds()}else{if(c.YYYY!==void 0)u.year=parseInt(b[c.YYYY],10);else if(c.YY!==void 0){const h=parseInt(b[c.YY],10);u.year=h<0?h:2e3+h}if(c.M!==void 0){if(u.month=parseInt(b[c.M],10),u.month<1||u.month>12)return u}else c.MMM!==void 0?u.month=f.indexOf(b[c.MMM])+1:c.MMMM!==void 0&&(u.month=s.indexOf(b[c.MMMM])+1);if(c.D!==void 0){if(u.day=parseInt(b[c.D],10),u.year===null||u.month===null||u.day<1)return u;const h=l!=="persian"?new Date(u.year,u.month,0).getDate():qe(u.year,u.month);if(u.day>h)return u}c.H!==void 0?u.hour=parseInt(b[c.H],10)%24:c.h!==void 0&&(u.hour=parseInt(b[c.h],10)%12,(c.A&&b[c.A]==="PM"||c.a&&b[c.a]==="pm"||c.aa&&b[c.aa]==="p.m.")&&(u.hour+=12),u.hour=u.hour%24),c.m!==void 0&&(u.minute=parseInt(b[c.m],10)%60),c.s!==void 0&&(u.second=parseInt(b[c.s],10)%60),c.S!==void 0&&(u.millisecond=parseInt(b[c.S],10)*10**(3-b[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(E=c.Z!==void 0?b[c.Z].replace(":",""):b[c.ZZ],u.timezoneOffset=(E[0]==="+"?-1:1)*(60*E.slice(1,3)+1*E.slice(3,5)))}return u.dateHash=p(u.year,6)+"/"+p(u.month)+"/"+p(u.day),u.timeHash=p(u.hour)+":"+p(u.minute)+":"+p(u.second)+E,u}function Qe(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const l=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-l);const i=(a-o)/(jt*7);return 1+Math.floor(i)}function X(e,a,o){const l=new Date(e),i=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":l[`${i}Month`](0);case"month":case"months":l[`${i}Date`](1);case"day":case"days":case"date":l[`${i}Hours`](0);case"hour":case"hours":l[`${i}Minutes`](0);case"minute":case"minutes":l[`${i}Seconds`](0);case"second":case"seconds":l[`${i}Milliseconds`](0)}return l}function pe(e,a,o){return(e.getTime()-e.getTimezoneOffset()*Ge-(a.getTime()-a.getTimezoneOffset()*Ge))/o}function $t(e,a,o="days"){const l=new Date(e),i=new Date(a);switch(o){case"years":case"year":return l.getFullYear()-i.getFullYear();case"months":case"month":return(l.getFullYear()-i.getFullYear())*12+l.getMonth()-i.getMonth();case"days":case"day":case"date":return pe(X(l,"day"),X(i,"day"),jt);case"hours":case"hour":return pe(X(l,"hour"),X(i,"hour"),oa);case"minutes":case"minute":return pe(X(l,"minute"),X(i,"minute"),Ge);case"seconds":case"second":return pe(X(l,"second"),X(i,"second"),1e3)}}function Ze(e){return $t(e,X(e,"year"),"days")+1}function ve(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const St={YY(e,a,o){const l=this.YYYY(e,a,o)%100;return l>=0?p(l):"-"+p(Math.abs(l))},YYYY(e,a,o){return o??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return ve(e.getMonth()+1)},MM(e){return p(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ve(this.Q(e))},D(e){return e.getDate()},Do(e){return ve(e.getDate())},DD(e){return p(e.getDate())},DDD(e){return Ze(e)},DDDo(e){return ve(Ze(e))},DDDD(e){return p(Ze(e),3)},d(e){return e.getDay()},do(e){return ve(e.getDay())},dd(e,a){return a.days[e.getDay()].slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Qe(e)},wo(e){return ve(Qe(e))},ww(e){return p(Qe(e))},H(e){return e.getHours()},HH(e){return p(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return p(this.h(e))},m(e){return e.getMinutes()},mm(e){return p(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return p(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return p(Math.floor(e.getMilliseconds()/10))},SSS(e){return p(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,a,o,l){const i=l??e.getTimezoneOffset();return wt(i,":")},ZZ(e,a,o,l){const i=l??e.getTimezoneOffset();return wt(i)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function da(e,a,o,l,i){if(e!==0&&!e||e===1/0||e===-1/0)return;const u=new Date(e);if(isNaN(u))return;a===void 0&&(a=At);const d=Bt(o,Tt.props);return a.replace(ra,(s,f)=>s in St?St[s](u,d,l,i):f===void 0?s:f.split("\\]").join("]"))}const re=20,ca=["Calendar","Years","Months"],_t=e=>ca.includes(e),Ue=e=>/^-?[\d]+\/[0-1]\d$/.test(e),me=" — ";function te(e){return e.year+"/"+p(e.month)}const Oa=Oe({name:"QDate",props:{...Dt,...qn,...Et,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Dt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Ue},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Ue},navigationMaxYearMonth:{type:String,validator:Ue},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:_t}},emits:[...aa,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:l}=Fe(),{$q:i}=l,u=Ot(e,i),{getCache:d}=rn(),{tabindex:s,headerClass:f,getLocale:M,getCurrentDate:c}=la(e,i);let b;const E=Tn(e),h=En(E),S=A(null),k=A(rt()),Y=A(M()),ie=D(()=>rt()),ge=D(()=>M()),O=D(()=>c()),y=A(ut(k.value,Y.value)),C=A(e.defaultView),N=D(()=>i.lang.rtl===!0?"right":"left"),j=A(N.value),B=A(N.value),R=y.value.year,ae=A(R-R%re-(R<0?re:0)),F=A(null),Ie=D(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(u.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),z=D(()=>e.color||"primary"),Q=D(()=>e.textColor||"white"),se=D(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ye=D(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),$=D(()=>ye.value.filter(t=>typeof t=="string").map(t=>Pe(t,k.value,Y.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),Z=D(()=>{const t=n=>Pe(n,k.value,Y.value);return ye.value.filter(n=>on(n)===!0&&n.from!==void 0&&n.to!==void 0).map(n=>({from:t(n.from),to:t(n.to)})).filter(n=>n.from.dateHash!==null&&n.to.dateHash!==null&&n.from.dateHash<n.to.dateHash)}),K=D(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const n=xt(t.year,t.month,t.day);return new Date(n.gy,n.gm-1,n.gd)}),Me=D(()=>e.calendar==="persian"?ee:(t,n,r)=>da(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),n===void 0?k.value:n,r===void 0?Y.value:r,t.year,t.timezoneOffset)),le=D(()=>$.value.length+Z.value.reduce((t,n)=>t+1+$t(K.value(n.to),K.value(n.from)),0)),be=D(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(F.value!==null){const r=F.value.init,v=K.value(r);return Y.value.daysShort[v.getDay()]+", "+Y.value.monthsShort[r.month-1]+" "+r.day+me+"?"}if(le.value===0)return me;if(le.value>1)return`${le.value} ${Y.value.pluralDay}`;const t=$.value[0],n=K.value(t);return isNaN(n.valueOf())===!0?me:Y.value.headerTitle!==void 0?Y.value.headerTitle(n,t):Y.value.daysShort[n.getDay()]+", "+Y.value.monthsShort[t.month-1]+" "+t.day}),He=D(()=>$.value.concat(Z.value.map(n=>n.from)).sort((n,r)=>n.year-r.year||n.month-r.month)[0]),Ve=D(()=>$.value.concat(Z.value.map(n=>n.to)).sort((n,r)=>r.year-n.year||r.month-n.month)[0]),xe=D(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(le.value===0)return me;if(le.value>1){const t=He.value,n=Ve.value,r=Y.value.monthsShort;return r[t.month-1]+(t.year!==n.year?" "+t.year+me+r[n.month-1]+" ":t.month!==n.month?me+r[n.month-1]:"")+" "+n.year}return $.value[0].year}),J=D(()=>{const t=[i.iconSet.datetime.arrowLeft,i.iconSet.datetime.arrowRight];return i.lang.rtl===!0?t.reverse():t}),G=D(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):Y.value.firstDayOfWeek),je=D(()=>{const t=Y.value.daysShort,n=G.value;return n>0?t.slice(n,7).concat(t.slice(0,n)):t}),w=D(()=>{const t=y.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():qe(t.year,t.month)}),De=D(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),I=D(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),V=D(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Ae=D(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return I.value!==null&&I.value.year>=y.value.year&&(t.year.prev=!1,I.value.year===y.value.year&&I.value.month>=y.value.month&&(t.month.prev=!1)),V.value!==null&&V.value.year<=y.value.year&&(t.year.next=!1,V.value.year===y.value.year&&V.value.month<=y.value.month&&(t.month.next=!1)),t}),Ce=D(()=>{const t={};return $.value.forEach(n=>{const r=te(n);t[r]===void 0&&(t[r]=[]),t[r].push(n.day)}),t}),at=D(()=>{const t={};return Z.value.forEach(n=>{const r=te(n.from),v=te(n.to);if(t[r]===void 0&&(t[r]=[]),t[r].push({from:n.from.day,to:r===v?n.to.day:void 0,range:n}),r<v){let m;const{year:H,month:g}=n.from,_=g<12?{year:H,month:g+1}:{year:H+1,month:1};for(;(m=te(_))<=v;)t[m]===void 0&&(t[m]=[]),t[m].push({from:void 0,to:m===v?n.to.day:void 0,range:n}),_.month++,_.month>12&&(_.year++,_.month=1)}}),t}),we=D(()=>{if(F.value===null)return;const{init:t,initHash:n,final:r,finalHash:v}=F.value,[m,H]=n<=v?[t,r]:[r,t],g=te(m),_=te(H);if(g!==L.value&&_!==L.value)return;const q={};return g===L.value?(q.from=m.day,q.includeFrom=!0):q.from=1,_===L.value?(q.to=H.day,q.includeTo=!0):q.to=w.value,q}),L=D(()=>te(y.value)),Wt=D(()=>{const t={};if(e.options===void 0){for(let r=1;r<=w.value;r++)t[r]=!0;return t}const n=typeof e.options=="function"?e.options:r=>e.options.includes(r);for(let r=1;r<=w.value;r++){const v=L.value+"/"+p(r);t[r]=n(v)}return t}),zt=D(()=>{const t={};if(e.events===void 0)for(let n=1;n<=w.value;n++)t[n]=!1;else{const n=typeof e.events=="function"?e.events:r=>e.events.includes(r);for(let r=1;r<=w.value;r++){const v=L.value+"/"+p(r);t[r]=n(v)===!0&&De.value(v)}}return t}),Nt=D(()=>{let t,n;const{year:r,month:v}=y.value;if(e.calendar!=="persian")t=new Date(r,v-1,1),n=new Date(r,v-1,0).getDate();else{const m=xt(r,v,1);t=new Date(m.gy,m.gm-1,m.gd);let H=v-1,g=r;H===0&&(H=12,g--),n=qe(g,H)}return{days:t.getDay()-G.value-1,endDay:n}}),lt=D(()=>{const t=[],{days:n,endDay:r}=Nt.value,v=n<0?n+7:n;if(v<6)for(let g=r-v;g<=r;g++)t.push({i:g,fill:!0});const m=t.length;for(let g=1;g<=w.value;g++){const _={i:g,event:zt.value[g],classes:[]};Wt.value[g]===!0&&(_.in=!0,_.flat=!0),t.push(_)}if(Ce.value[L.value]!==void 0&&Ce.value[L.value].forEach(g=>{const _=m+g-1;Object.assign(t[_],{selected:!0,unelevated:!0,flat:!1,color:z.value,textColor:Q.value})}),at.value[L.value]!==void 0&&at.value[L.value].forEach(g=>{if(g.from!==void 0){const _=m+g.from-1,q=m+(g.to||w.value)-1;for(let Se=_;Se<=q;Se++)Object.assign(t[Se],{range:g.range,unelevated:!0,color:z.value,textColor:Q.value});Object.assign(t[_],{rangeFrom:!0,flat:!1}),g.to!==void 0&&Object.assign(t[q],{rangeTo:!0,flat:!1})}else if(g.to!==void 0){const _=m+g.to-1;for(let q=m;q<=_;q++)Object.assign(t[q],{range:g.range,unelevated:!0,color:z.value,textColor:Q.value});Object.assign(t[_],{flat:!1,rangeTo:!0})}else{const _=m+w.value-1;for(let q=m;q<=_;q++)Object.assign(t[q],{range:g.range,unelevated:!0,color:z.value,textColor:Q.value})}}),we.value!==void 0){const g=m+we.value.from-1,_=m+we.value.to-1;for(let q=g;q<=_;q++)t[q].color=z.value,t[q].editRange=!0;we.value.includeFrom===!0&&(t[g].editRangeFrom=!0),we.value.includeTo===!0&&(t[_].editRangeTo=!0)}y.value.year===O.value.year&&y.value.month===O.value.month&&(t[m+O.value.day-1].today=!0);const H=t.length%7;if(H>0){const g=7-H;for(let _=1;_<=g;_++)t.push({i:_,fill:!0})}return t.forEach(g=>{let _="q-date__calendar-item ";g.fill===!0?_+="q-date__calendar-item--fill":(_+=`q-date__calendar-item--${g.in===!0?"in":"out"}`,g.range!==void 0&&(_+=` q-date__range${g.rangeTo===!0?"-to":g.rangeFrom===!0?"-from":""}`),g.editRange===!0&&(_+=` q-date__edit-range${g.editRangeFrom===!0?"-from":""}${g.editRangeTo===!0?"-to":""}`),(g.range!==void 0||g.editRange===!0)&&(_+=` text-${g.color}`)),g.classes=_}),t}),Qt=D(()=>e.disable===!0?{"aria-disabled":"true"}:{});W(()=>e.modelValue,t=>{if(b===JSON.stringify(t))b=0;else{const n=ut(k.value,Y.value);de(n.year,n.month,n)}}),W(C,()=>{S.value!==null&&l.$el.contains(document.activeElement)===!0&&S.value.focus()}),W(()=>y.value.year+"|"+y.value.month,()=>{o("navigation",{year:y.value.year,month:y.value.month})}),W(ie,t=>{ft(t,Y.value,"mask"),k.value=t}),W(ge,t=>{ft(k.value,t,"locale"),Y.value=t});function Be(t){b=JSON.stringify(t)}function ot(){const{year:t,month:n,day:r}=O.value,v={...y.value,year:t,month:n,day:r},m=Ce.value[te(v)];(m===void 0||m.includes(v.day)===!1)&&Le(v),$e(v.year,v.month)}function Zt(t){_t(t)===!0&&(C.value=t)}function Ut(t,n){["month","year"].includes(t)&&(t==="month"?st:Re)(n===!0?-1:1)}function $e(t,n){C.value="Calendar",de(t,n)}function Xt(t,n){if(e.range===!1||!t){F.value=null;return}const r=Object.assign({...y.value},t),v=n!==void 0?Object.assign({...y.value},n):r;F.value={init:r,initHash:ee(r),final:v,finalHash:ee(v)},$e(r.year,r.month)}function rt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Pe(t,n,r){return sa(t,n,r,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function ut(t,n){const r=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(r.length===0)return it();const v=r[r.length-1],m=Pe(v.from!==void 0?v.from:v,t,n);return m.dateHash===null?it():m}function it(){let t,n;if(e.defaultYearMonth!==void 0){const r=e.defaultYearMonth.split("/");t=parseInt(r[0],10),n=parseInt(r[1],10)}else{const r=O.value!==void 0?O.value:c();t=r.year,n=r.month}return{year:t,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+p(n)+"/01"}}function st(t){let n=y.value.year,r=Number(y.value.month)+t;r===13?(r=1,n++):r===0&&(r=12,n--),de(n,r),se.value===!0&&Ye("month")}function Re(t){const n=Number(y.value.year)+t;de(n,y.value.month),se.value===!0&&Ye("year")}function Kt(t){de(t,y.value.month),C.value=e.defaultView==="Years"?"Months":"Calendar",se.value===!0&&Ye("year")}function Jt(t){de(y.value.year,t),C.value="Calendar",se.value===!0&&Ye("month")}function Gt(t,n){const r=Ce.value[n];(r!==void 0&&r.includes(t.day)===!0?We:Le)(t)}function oe(t){return{year:t.year,month:t.month,day:t.day}}function de(t,n,r){if(I.value!==null&&t<=I.value.year&&((n<I.value.month||t<I.value.year)&&(n=I.value.month),t=I.value.year),V.value!==null&&t>=V.value.year&&((n>V.value.month||t>V.value.year)&&(n=V.value.month),t=V.value.year),r!==void 0){const{hour:m,minute:H,second:g,millisecond:_,timezoneOffset:q,timeHash:Se}=r;Object.assign(y.value,{hour:m,minute:H,second:g,millisecond:_,timezoneOffset:q,timeHash:Se})}const v=t+"/"+p(n)+"/01";v!==y.value.dateHash&&(j.value=y.value.dateHash<v==(i.lang.rtl!==!0)?"left":"right",t!==y.value.year&&(B.value=j.value),Ke(()=>{ae.value=t-t%re-(t<0?re:0),Object.assign(y.value,{year:t,month:n,day:1,dateHash:v})}))}function dt(t,n,r){const v=t!==null&&t.length===1&&e.multiple===!1?t[0]:t,{reason:m,details:H}=ct(n,r);Be(v),o("update:modelValue",v,m,H)}function Ye(t){const n=$.value[0]!==void 0&&$.value[0].dateHash!==null?{...$.value[0]}:{...y.value};Ke(()=>{n.year=y.value.year,n.month=y.value.month;const r=e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():qe(n.year,n.month);n.day=Math.min(Math.max(1,n.day),r);const v=ce(n),{details:m}=ct("",n);Be(v),o("update:modelValue",v,t,m)})}function ct(t,n){return n.from!==void 0?{reason:`${t}-range`,details:{...oe(n.target),from:oe(n.from),to:oe(n.to)}}:{reason:`${t}-day`,details:oe(n)}}function ce(t,n,r){return t.from!==void 0?{from:Me.value(t.from,n,r),to:Me.value(t.to,n,r)}:Me.value(t,n,r)}function Le(t){let n;if(e.multiple===!0)if(t.from!==void 0){const r=ee(t.from),v=ee(t.to),m=$.value.filter(g=>g.dateHash<r||g.dateHash>v),H=Z.value.filter(({from:g,to:_})=>_.dateHash<r||g.dateHash>v);n=m.concat(H).concat(t).map(g=>ce(g))}else{const r=ye.value.slice();r.push(ce(t)),n=r}else n=ce(t);dt(n,"add",t)}function We(t){if(e.noUnset===!0)return;let n=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const r=ce(t);t.from!==void 0?n=e.modelValue.filter(v=>v.from!==void 0?v.from!==r.from&&v.to!==r.to:!0):n=e.modelValue.filter(v=>v!==r),n.length===0&&(n=null)}dt(n,"remove",t)}function ft(t,n,r){const v=$.value.concat(Z.value).map(H=>ce(H,t,n)).filter(H=>H.from!==void 0?H.from.dateHash!==null&&H.to.dateHash!==null:H.dateHash!==null),m=(e.multiple===!0?v:v[0])||null;Be(m),o("update:modelValue",m,r)}function en(){if(e.minimal!==!0)return x("div",{class:"q-date__header "+f.value},[x("div",{class:"relative-position"},[x(he,{name:"q-transition--fade"},()=>x("div",{key:"h-yr-"+xe.value,class:"q-date__header-subtitle q-date__header-link "+(C.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...d("vY",{onClick(){C.value="Years"},onKeyup(t){t.keyCode===13&&(C.value="Years")}})},[xe.value]))]),x("div",{class:"q-date__header-title relative-position flex no-wrap"},[x("div",{class:"relative-position col"},[x(he,{name:"q-transition--fade"},()=>x("div",{key:"h-sub"+be.value,class:"q-date__header-title-label q-date__header-link "+(C.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...d("vC",{onClick(){C.value="Calendar"},onKeyup(t){t.keyCode===13&&(C.value="Calendar")}})},[be.value]))]),e.todayBtn===!0?x(U,{class:"q-date__header-today self-start",icon:i.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:ot}):null])])}function ze({label:t,type:n,key:r,dir:v,goTo:m,boundaries:H,cls:g}){return[x("div",{class:"row items-center q-date__arrow"},[x(U,{round:!0,dense:!0,size:"sm",flat:!0,icon:J.value[0],tabindex:s.value,disable:H.prev===!1,...d("go-#"+n,{onClick(){m(-1)}})})]),x("div",{class:"relative-position overflow-hidden flex flex-center"+g},[x(he,{name:"q-transition--jump-"+v},()=>x("div",{key:r},[x(U,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:s.value,...d("view#"+n,{onClick:()=>{C.value=n}})})]))]),x("div",{class:"row items-center q-date__arrow"},[x(U,{round:!0,dense:!0,size:"sm",flat:!0,icon:J.value[1],tabindex:s.value,disable:H.next===!1,...d("go+#"+n,{onClick(){m(1)}})})])]}const tn={Calendar:()=>[x("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[x("div",{class:"q-date__navigation row items-center no-wrap"},ze({label:Y.value.months[y.value.month-1],type:"Months",key:y.value.month,dir:j.value,goTo:st,boundaries:Ae.value.month,cls:" col"}).concat(ze({label:y.value.year,type:"Years",key:y.value.year,dir:B.value,goTo:Re,boundaries:Ae.value.year,cls:""}))),x("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},je.value.map(t=>x("div",{class:"q-date__calendar-item"},[x("div",t)]))),x("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[x(he,{name:"q-transition--slide-"+j.value},()=>x("div",{key:L.value,class:"q-date__calendar-days fit"},lt.value.map(t=>x("div",{class:t.classes},[t.in===!0?x(U,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:s.value,...d("day#"+t.i,{onClick:()=>{nn(t.i)},onMouseover:()=>{an(t.i)}})},t.event!==!1?()=>x("div",{class:"q-date__event bg-"+t.event}):null):x("div",""+t.i)]))))])])],Months(){const t=y.value.year===O.value.year,n=v=>I.value!==null&&y.value.year===I.value.year&&I.value.month>v||V.value!==null&&y.value.year===V.value.year&&V.value.month<v,r=Y.value.monthsShort.map((v,m)=>{const H=y.value.month===m+1;return x("div",{class:"q-date__months-item flex flex-center"},[x(U,{class:t===!0&&O.value.month===m+1?"q-date__today":null,flat:H!==!0,label:v,unelevated:H,color:H===!0?z.value:null,textColor:H===!0?Q.value:null,tabindex:s.value,disable:n(m+1),...d("month#"+m,{onClick:()=>{Jt(m+1)}})})])});return e.yearsInMonthView===!0&&r.unshift(x("div",{class:"row no-wrap full-width"},[ze({label:y.value.year,type:"Years",key:y.value.year,dir:B.value,goTo:Re,boundaries:Ae.value.year,cls:" col"})])),x("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},r)},Years(){const t=ae.value,n=t+re,r=[],v=m=>I.value!==null&&I.value.year>m||V.value!==null&&V.value.year<m;for(let m=t;m<=n;m++){const H=y.value.year===m;r.push(x("div",{class:"q-date__years-item flex flex-center"},[x(U,{key:"yr"+m,class:O.value.year===m?"q-date__today":null,flat:!H,label:m,dense:!0,unelevated:H,color:H===!0?z.value:null,textColor:H===!0?Q.value:null,tabindex:s.value,disable:v(m),...d("yr#"+m,{onClick:()=>{Kt(m)}})})]))}return x("div",{class:"q-date__view q-date__years flex flex-center"},[x("div",{class:"col-auto"},[x(U,{round:!0,dense:!0,flat:!0,icon:J.value[0],tabindex:s.value,disable:v(t),...d("y-",{onClick:()=>{ae.value-=re}})})]),x("div",{class:"q-date__years-content col self-stretch row items-center"},r),x("div",{class:"col-auto"},[x(U,{round:!0,dense:!0,flat:!0,icon:J.value[1],tabindex:s.value,disable:v(n),...d("y+",{onClick:()=>{ae.value+=re}})})])])}};function nn(t){const n={...y.value,day:t};if(e.range===!1){Gt(n,L.value);return}if(F.value===null){const r=lt.value.find(m=>m.fill!==!0&&m.i===t);if(e.noUnset!==!0&&r.range!==void 0){We({target:n,from:r.range.from,to:r.range.to});return}if(r.selected===!0){We(n);return}const v=ee(n);F.value={init:n,initHash:v,final:n,finalHash:v},o("rangeStart",oe(n))}else{const r=F.value.initHash,v=ee(n),m=r<=v?{from:F.value.init,to:n}:{from:n,to:F.value.init};F.value=null,Le(r===v?n:{target:n,...m}),o("rangeEnd",{from:oe(m.from),to:oe(m.to)})}}function an(t){if(F.value!==null){const n={...y.value,day:t};Object.assign(F.value,{final:n,finalHash:ee(n)})}}return Object.assign(l,{setToday:ot,setView:Zt,offsetCalendar:Ut,setCalendarTo:$e,setEditingRange:Xt}),()=>{const t=[x("div",{class:"q-date__content col relative-position"},[x(he,{name:"q-transition--fade"},tn[C.value])])],n=Ft(a.default);return n!==void 0&&t.push(x("div",{class:"q-date__actions"},n)),e.name!==void 0&&e.disable!==!0&&h(t,"push"),x("div",{class:Ie.value,...Qt.value},[en(),x("div",{ref:S,class:"q-date__main col column",tabindex:-1},t)])}}}),fa={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Pt={...fa,contextMenu:Boolean};function Rt({showing:e,avoidEmit:a,configureAnchorEl:o}){const{props:l,proxy:i,emit:u}=Fe(),d=A(null);let s=null;function f(h){return d.value===null?!1:h===void 0||h.touches===void 0||h.touches.length<=1}const M={};o===void 0&&(Object.assign(M,{hide(h){i.hide(h)},toggle(h){i.toggle(h),h.qAnchorHandled=!0},toggleKey(h){sn(h,13)===!0&&M.toggle(h)},contextClick(h){i.hide(h),vt(h),Ke(()=>{i.show(h),h.qAnchorHandled=!0})},prevent:vt,mobileTouch(h){if(M.mobileCleanup(h),f(h)!==!0)return;i.hide(h),d.value.classList.add("non-selectable");const S=h.target;mt(M,"anchor",[[S,"touchmove","mobileCleanup","passive"],[S,"touchend","mobileCleanup","passive"],[S,"touchcancel","mobileCleanup","passive"],[d.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,i.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){d.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&h!==void 0&&un()}}),o=function(h=l.contextMenu){if(l.noParentEvent===!0||d.value===null)return;let S;h===!0?i.$q.platform.is.mobile===!0?S=[[d.value,"touchstart","mobileTouch","passive"]]:S=[[d.value,"mousedown","hide","passive"],[d.value,"contextmenu","contextClick","notPassive"]]:S=[[d.value,"click","toggle","passive"],[d.value,"keyup","toggleKey","passive"]],mt(M,"anchor",S)});function c(){cn(M,"anchor")}function b(h){for(d.value=h;d.value.classList.contains("q-anchor--skip");)d.value=d.value.parentNode;o()}function E(){if(l.target===!1||l.target===""||i.$el.parentNode===null)d.value=null;else if(l.target===!0)b(i.$el.parentNode);else{let h=l.target;if(typeof l.target=="string")try{h=document.querySelector(l.target)}catch{h=void 0}h!=null?(d.value=h.$el||h,o()):(d.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return W(()=>l.contextMenu,h=>{d.value!==null&&(c(),o(h))}),W(()=>l.target,()=>{d.value!==null&&c(),E()}),W(()=>l.noParentEvent,h=>{d.value!==null&&(h===!0?c():o())}),dn(()=>{E(),a!==!0&&l.modelValue===!0&&d.value===null&&u("update:modelValue",!1)}),tt(()=>{s!==null&&clearTimeout(s),c()}),{anchorEl:d,canShow:f,anchorEvents:M}}function va(e,a){const o=A(null);let l;function i(s,f){const M=`${f!==void 0?"add":"remove"}EventListener`,c=f!==void 0?f:l;s!==window&&s[M]("scroll",c,Je.passive),window[M]("scroll",c,Je.passive),l=f}function u(){o.value!==null&&(i(o.value),o.value=null)}const d=W(()=>e.noParentEvent,()=>{o.value!==null&&(u(),a())});return tt(d),{localScrollTarget:o,unconfigureScrollTarget:u,changeScrollEvent:i}}const{notPassiveCapture:Te}=Je,ue=[];function Ee(e){const a=e.target;if(a===void 0||a.nodeType===8||a.classList.contains("no-pointer-events")===!0)return;let o=Mt.length-1;for(;o>=0;){const l=Mt[o].$;if(l.type.name==="QTooltip"){o--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;o--}for(let l=ue.length-1;l>=0;l--){const i=ue[l];if((i.anchorEl.value===null||i.anchorEl.value.contains(a)===!1)&&(a===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(a)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function ma(e){ue.push(e),ue.length===1&&(document.addEventListener("mousedown",Ee,Te),document.addEventListener("touchstart",Ee,Te))}function Ht(e){const a=ue.findIndex(o=>o===e);a!==-1&&(ue.splice(a,1),ue.length===0&&(document.removeEventListener("mousedown",Ee,Te),document.removeEventListener("touchstart",Ee,Te)))}let Ct,Yt;function kt(e){const a=e.split(" ");return a.length!==2?!1:["top","center","bottom"].includes(a[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(a[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function ha(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const et={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{et[`${e}#ltr`]=e,et[`${e}#rtl`]=e});function pt(e,a){const o=e.split(" ");return{vertical:o[0],horizontal:et[`${o[1]}#${a===!0?"rtl":"ltr"}`]}}function ga(e,a){let{top:o,left:l,right:i,bottom:u,width:d,height:s}=e.getBoundingClientRect();return a!==void 0&&(o-=a[1],l-=a[0],u+=a[1],i+=a[0],d+=a[0],s+=a[1]),{top:o,bottom:u,height:s,left:l,right:i,width:d,middle:l+(i-l)/2,center:o+(u-o)/2}}function ya(e,a,o){let{top:l,left:i}=e.getBoundingClientRect();return l+=a.top,i+=a.left,o!==void 0&&(l+=o[1],i+=o[0]),{top:l,bottom:l+1,height:1,left:i,right:i+1,width:1,middle:i,center:l}}function Ma(e,a){return{top:0,center:a/2,bottom:a,left:0,middle:e/2,right:e}}function qt(e,a,o,l){return{top:e[o.vertical]-a[l.vertical],left:e[o.horizontal]-a[l.horizontal]}}function Lt(e,a=0){if(e.targetEl===null||e.anchorEl===null||a>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Lt(e,a+1)},10);return}const{targetEl:o,offset:l,anchorEl:i,anchorOrigin:u,selfOrigin:d,absoluteOffset:s,fit:f,cover:M,maxHeight:c,maxWidth:b}=e;if(fn.is.ios===!0&&window.visualViewport!==void 0){const N=document.body.style,{offsetLeft:j,offsetTop:B}=window.visualViewport;j!==Ct&&(N.setProperty("--q-pe-left",j+"px"),Ct=j),B!==Yt&&(N.setProperty("--q-pe-top",B+"px"),Yt=B)}const{scrollLeft:E,scrollTop:h}=o,S=s===void 0?ga(i,M===!0?[0,0]:l):ya(i,s,l);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:b,maxHeight:c,visibility:"visible"});const{offsetWidth:k,offsetHeight:Y}=o,{elWidth:ie,elHeight:ge}=f===!0||M===!0?{elWidth:Math.max(S.width,k),elHeight:M===!0?Math.max(S.height,Y):Y}:{elWidth:k,elHeight:Y};let O={maxWidth:b,maxHeight:c};(f===!0||M===!0)&&(O.minWidth=S.width+"px",M===!0&&(O.minHeight=S.height+"px")),Object.assign(o.style,O);const y=Ma(ie,ge);let C=qt(S,y,u,d);if(s===void 0||l===void 0)Xe(C,S,y,u,d);else{const{top:N,left:j}=C;Xe(C,S,y,u,d);let B=!1;if(C.top!==N){B=!0;const R=2*l[1];S.center=S.top-=R,S.bottom-=R+2}if(C.left!==j){B=!0;const R=2*l[0];S.middle=S.left-=R,S.right-=R+2}B===!0&&(C=qt(S,y,u,d),Xe(C,S,y,u,d))}O={top:C.top+"px",left:C.left+"px"},C.maxHeight!==void 0&&(O.maxHeight=C.maxHeight+"px",S.height>C.maxHeight&&(O.minHeight=O.maxHeight)),C.maxWidth!==void 0&&(O.maxWidth=C.maxWidth+"px",S.width>C.maxWidth&&(O.minWidth=O.maxWidth)),Object.assign(o.style,O),o.scrollTop!==h&&(o.scrollTop=h),o.scrollLeft!==E&&(o.scrollLeft=E)}function Xe(e,a,o,l,i){const u=o.bottom,d=o.right,s=vn(),f=window.innerHeight-s,M=document.body.clientWidth;if(e.top<0||e.top+u>f)if(i.vertical==="center")e.top=a[l.vertical]>f/2?Math.max(0,f-u):0,e.maxHeight=Math.min(u,f);else if(a[l.vertical]>f/2){const c=Math.min(f,l.vertical==="center"?a.center:l.vertical===i.vertical?a.bottom:a.top);e.maxHeight=Math.min(u,c),e.top=Math.max(0,c-u)}else e.top=Math.max(0,l.vertical==="center"?a.center:l.vertical===i.vertical?a.top:a.bottom),e.maxHeight=Math.min(u,f-e.top);if(e.left<0||e.left+d>M)if(e.maxWidth=Math.min(d,M),i.horizontal==="middle")e.left=a[l.horizontal]>M/2?Math.max(0,M-d):0;else if(a[l.horizontal]>M/2){const c=Math.min(M,l.horizontal==="middle"?a.middle:l.horizontal===i.horizontal?a.right:a.left);e.maxWidth=Math.min(d,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?a.middle:l.horizontal===i.horizontal?a.left:a.right),e.maxWidth=Math.min(d,M-e.left)}const ba=Oe({name:"QMenu",inheritAttrs:!1,props:{...Pt,...In,...Et,...Fn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:kt},self:{type:String,validator:kt},offset:{type:Array,validator:ha},scrollTarget:mn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...On,"click","escapeKey"],setup(e,{slots:a,emit:o,attrs:l}){let i=null,u,d,s;const f=Fe(),{proxy:M}=f,{$q:c}=M,b=A(null),E=A(!1),h=D(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),S=Ot(e,c),{registerTick:k,removeTick:Y}=Vn(),{registerTimeout:ie}=hn(),{transitionProps:ge,transitionStyle:O}=jn(e),{localScrollTarget:y,changeScrollEvent:C,unconfigureScrollTarget:N}=va(e,He),{anchorEl:j,canShow:B}=Rt({showing:E}),{hide:R}=An({showing:E,canShow:B,handleShow:Me,handleHide:le,hideOnRouteChange:h,processOnMount:!0}),{showPortal:ae,hidePortal:F,renderPortal:Ie}=Bn(f,b,je,"menu"),z={anchorEl:j,innerRef:b,onClickOutside(w){if(e.persistent!==!0&&E.value===!0)return R(w),(w.type==="touchstart"||w.target.classList.contains("q-dialog__backdrop"))&&bn(w),!0}},Q=D(()=>pt(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),se=D(()=>e.cover===!0?Q.value:pt(e.self||"top start",c.lang.rtl)),ye=D(()=>(e.square===!0?" q-menu--square":"")+(S.value===!0?" q-menu--dark q-dark":"")),$=D(()=>e.autoClose===!0?{onClick:Ve}:{}),Z=D(()=>E.value===!0&&e.persistent!==!0);W(Z,w=>{w===!0?($n(J),ma(z)):(bt(J),Ht(z))});function K(){Wn(()=>{let w=b.value;w&&w.contains(document.activeElement)!==!0&&(w=w.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||w.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||w.querySelector("[autofocus], [data-autofocus]")||w,w.focus({preventScroll:!0}))})}function Me(w){if(i=e.noRefocus===!1?document.activeElement:null,Pn(xe),ae(),He(),u=void 0,w!==void 0&&(e.touchPosition||e.contextMenu)){const De=gn(w);if(De.left!==void 0){const{top:I,left:V}=j.value.getBoundingClientRect();u={left:De.left-V,top:De.top-I}}}d===void 0&&(d=W(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,G)),e.noFocus!==!0&&document.activeElement.blur(),k(()=>{G(),e.noFocus!==!0&&K()}),ie(()=>{c.platform.is.ios===!0&&(s=e.autoClose,b.value.click()),G(),ae(!0),o("show",w)},e.transitionDuration)}function le(w){Y(),F(),be(!0),i!==null&&(w===void 0||w.qClickOutside!==!0)&&(((w&&w.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),ie(()=>{F(!0),o("hide",w)},e.transitionDuration)}function be(w){u=void 0,d!==void 0&&(d(),d=void 0),(w===!0||E.value===!0)&&(Rn(xe),N(),Ht(z),bt(J)),w!==!0&&(i=null)}function He(){(j.value!==null||e.scrollTarget!==void 0)&&(y.value=yn(j.value,e.scrollTarget),C(y.value,G))}function Ve(w){s!==!0?(Ln(M,w),o("click",w)):s=!1}function xe(w){Z.value===!0&&e.noFocus!==!0&&Mn(b.value,w.target)!==!0&&K()}function J(w){o("escapeKey"),R(w)}function G(){Lt({targetEl:b.value,offset:e.offset,anchorEl:j.value,anchorOrigin:Q.value,selfOrigin:se.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function je(){return x(he,ge.value,()=>E.value===!0?x("div",{role:"menu",...l,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+ye.value,l.class],style:[l.style,O.value],...$.value},Ft(a.default)):null)}return tt(be),Object.assign(M,{focus:K,updatePosition:G}),Ie}}),Fa=Oe({name:"QPopupProxy",props:{...Pt,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:l}){const{proxy:i}=Fe(),{$q:u}=i,d=A(!1),s=A(null),f=D(()=>parseInt(e.breakpoint,10)),{canShow:M}=Rt({showing:d});function c(){return u.screen.width<f.value||u.screen.height<f.value?"dialog":"menu"}const b=A(c()),E=D(()=>b.value==="menu"?{maxHeight:"99vh"}:{});W(()=>c(),k=>{d.value!==!0&&(b.value=k)});function h(k){d.value=!0,o("show",k)}function S(k){d.value=!1,b.value=c(),o("hide",k)}return Object.assign(i,{show(k){M(k)===!0&&s.value.show(k)},hide(k){s.value.hide(k)},toggle(k){s.value.toggle(k)}}),xn(i,"currentComponent",()=>({type:b.value,ref:s.value})),()=>{const k={ref:s,...E.value,...l,onShow:h,onHide:S};let Y;return b.value==="dialog"?Y=zn:(Y=ba,Object.assign(k,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),x(Y,k,a.default)}}}),xa=Oe({name:"QField",inheritAttrs:!1,props:{...Qn,tag:{type:String,default:"label"}},emits:Nn,setup(){return Zn(Un({tagProp:!0}))}});function Ia(e){return e&&e.length>0?!0:"必填"}function Va(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!0:"email 格式不正確"}function ja(e){return e.length<8||e.length>16?"密碼長度須 8~16 位":!/[a-z]/.test(e)||!/[A-Z]/.test(e)?"密碼須包含英文大小寫":/[0-9]/.test(e)?!0:"密碼須包含數字"}function Aa(e,a){return e!==a?"密碼不相同":!0}function Ba(e){return e?!0:"請勾選"}const Da={class:"input-box row items-center"},wa={class:"input-box__label"},Sa={class:"label"},_a={class:"input-box__body"},Ha=["id","value"],Ca=["for"],Ya={class:"input-box__valid-sign"},ka={key:0},pa={__name:"InputBoxRadio",props:ht({title:{type:String,default:""},hasSign:{type:Boolean,default:!1},sign:{type:String,default:"validate"},rules:{type:Array,default:[]},hint:{type:String,default:""},options:{type:Array,required:!0},disable:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:ht(["update:disable"],["update:modelValue"]),setup(e,{emit:a}){const o=wn(e,"modelValue"),l=a;return(i,u)=>(_e(),ke("div",Da,[fe("div",wa,[fe("div",Sa,gt(e.title),1)]),fe("div",_a,[Sn(xa,{class:"input",borderless:"",dense:"",modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=d=>o.value=d),rules:e.rules,"no-error-icon":"",disable:e.disable},{control:_n(()=>[(_e(!0),ke(Hn,null,Cn(e.options,(d,s)=>(_e(),ke("div",{class:"option",key:s},[Yn(fe("input",{class:"option__input",type:"radio",id:d.value,"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f),value:d.value},null,8,Ha),[[kn,o.value]]),fe("label",{class:"option__label",for:d.value},gt(d.label),9,Ca)]))),128))]),_:1},8,["modelValue","rules","disable"])]),fe("div",Ya,[e.hasSign?(_e(),ke("div",ka,[e.sign==="edit"?(_e(),pn(Xn,{key:0,"onUpdate:disable":u[2]||(u[2]=d=>l("update:disable",d))})):yt("",!0)])):yt("",!0)])]))}},$a=Dn(pa,[["__scopeId","data-v-198f0957"]]);export{$a as I,Fa as Q,Aa as a,Oa as b,xa as c,Ba as d,Va as e,ja as p,Ia as r};
